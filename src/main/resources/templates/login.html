<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="страница авторизации сервиса Автонарушители">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors, Nike Zelensky aka Nike Z.">
    <meta name="generator" content="Hugo 0.104.2">
    <title>Автомобильные инциденты - авторизация</title>
<!--    <link href="https://getbootstrap.com/docs/5.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">-->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <!-- Custom styles for this template -->
    <link href="/css/signin.css" rel="stylesheet">
    <script type="text/javascript">
        let defColor = null;
      function checkPasswords(){
        let input = document.getElementById('username');
        let input1 = document.getElementById('password');
        let button = document.getElementById('submit');
        if (defColor == null) {
            defColor = input.style.borderColor;
        }
        let isDisable = input.value == '';
        if (isDisable) {
          input.style.borderColor = 'red';
        } else {
          input.style.borderColor = defColor;
        }
        if (input1.value !='')
        {
          input1.style.borderColor = defColor;
          button.disabled = isDisable;
        }else{
          input1.style.borderColor = 'red';
          button.disabled = true;
        };
      };
    </script>
  </head>
  <body class="text-center">
    
<main class="form-signin w-100 m-auto">
  <form th:action="@{/login}" method="post">
    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
<!--    <img class="mb-4" src="../assets/brand/bootstrap-logo.svg" alt="" width="72" height="57">-->
    <h1 class="h1 mb-3 fw-normal">Вход на сайт</h1>
    <p class="mb-3 fw-normal">Пожалуйста, введите имя пользователя и пароль</p>
    <div th:if="${not #lists.isEmpty(errorMessage)}" class="form-floating alert alert-danger p-1" role="alert" th:text="${errorMessage}">
    </div>
    <div class="form-floating">
      <input type="text" class="form-control input-head" id="username" placeholder="имя пользователя" name="login" oninput="checkPasswords()">
      <label for="username">Имя пользователя</label>
    </div>
    <div class="form-floating">
      <input type="password" class="form-control input-footer" id="password" placeholder="пароль" name="password" oninput="checkPasswords()">
      <label for="password">Пароль</label>
    </div>

    <div class="checkbox mb-3">
      <label>
        <a th:href="@{/reg}"> Регистрация нового пользователя </a>
      </label>
    </div>
    <button class="w-100 btn btn-lg btn-primary" type="submit" id="submit">Войти</button>
    <p class="mt-5 mb-3 text-muted">&copy; 2023 by Nike Z</p>
  </form>
</main>
  <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
<!--  <script src="https://getbootstrap.com/docs/5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>-->
  <script>
    checkPasswords();
  </script>
  </body>
</html>
